<div id="{{ .Get "id" }}" class="w-full"></div>
<script>
    // Configuration du graphique Vega-Lite
    var spec = {{ .Inner | safeJS }};
    applyThemeToVega(spec);
    vegaEmbed('#{{ .Get "id" }}', spec, { actions: false });

    // Réappliquer le thème lorsque le thème change
    document.addEventListener('theme-changed', function() {
        applyThemeToVega(spec);
        vegaEmbed('#{{ .Get "id" }}', spec, { actions: false });
    });
</script>
